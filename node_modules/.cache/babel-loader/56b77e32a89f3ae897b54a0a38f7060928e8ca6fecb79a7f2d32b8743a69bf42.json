{"ast":null,"code":"import axios from 'axios';\nconst apiClient = axios.create({\n  baseURL: \"http://localhost:8000\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport const registerUser = async (email, password, role) => {\n  try {\n    const response = await apiClient.post(\"/users/register\", {\n      email,\n      password,\n      role\n    });\n    console.log(\"Register Response:\", response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response;\n    console.error(\"Register Error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    throw error;\n  }\n};\nexport const loginUser = async (email, password) => {\n  try {\n    const formData = new URLSearchParams();\n    formData.append(\"username\", email);\n    formData.append(\"password\", password);\n    const response = await apiClient.post(\"/users/login\", formData, {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    });\n    console.log(\"Login Response:\", response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response2;\n    console.error(\"Login Error:\", ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n    throw error;\n  }\n};\nexport const getUserInfo = async accessToken => {\n  try {\n    const response = await apiClient.get(\"/users/me\", {\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    });\n    console.log(\"User Info Response:\", response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response3;\n    console.error(\"Get User Info Error:\", ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error.message);\n    throw error;\n  }\n};\nexport const getAllUsers = async accessToken => {\n  try {\n    const response = await apiClient.get(\"/users\", {\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    });\n    console.log(\"All Users Response:\", response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response4;\n    console.error(\"Get All Users Error:\", ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || error.message);\n    throw error;\n  }\n};\nexport const updateRoleUser = async (accessToken, user_id, role) => {\n  try {\n    const response = await apiClient.put(`/users/${user_id}`, {\n      role\n    }, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    console.log(\"Update Role Response:\", response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response5;\n    console.error(\"Update Role Error:\", ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || error.message);\n    throw error;\n  }\n};\nexport const deleteUser = async (accessToken, user_id) => {\n  try {\n    const response = await apiClient.delete(`/users/${user_id}`, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    console.log(\"Delete User Response:\", response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response6;\n    console.error(\"Delete User Error:\", ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data) || error.message);\n    throw error;\n  }\n};\nexport const getTeacherIdByEmail = async (email, accessToken) => {\n  try {\n    const response = await apiClient.get(`/users/teacher-id/${email}`, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`\n      }\n    });\n    console.log(\"Teacher ID Response:\", response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response7;\n    console.error(\"Get Teacher ID Error:\", ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data) || error.message);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","apiClient","create","baseURL","headers","registerUser","email","password","role","response","post","console","log","data","error","_error$response","message","loginUser","formData","URLSearchParams","append","_error$response2","getUserInfo","accessToken","get","Authorization","_error$response3","getAllUsers","_error$response4","updateRoleUser","user_id","put","_error$response5","deleteUser","delete","_error$response6","getTeacherIdByEmail","_error$response7"],"sources":["C:/Users/ASUS/Desktop/FaceIDVLU-FE/src/services/apiAuth.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst apiClient = axios.create({\r\n    baseURL: \"http://localhost:8000\", \r\n    headers: {\r\n        \"Content-Type\": \"application/json\"\r\n    },\r\n});\r\n\r\nexport const registerUser = async (email, password, role) => {\r\n    try {\r\n        const response = await apiClient.post(\"/users/register\", {\r\n            email,\r\n            password,\r\n            role,\r\n        });\r\n        console.log(\"Register Response:\", response.data);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Register Error:\", error.response?.data || error.message);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const loginUser = async (email, password) => {\r\n    try {\r\n        const formData = new URLSearchParams();\r\n        formData.append(\"username\", email);\r\n        formData.append(\"password\", password);\r\n\r\n        const response = await apiClient.post(\"/users/login\", formData, {\r\n            headers: {\r\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            },\r\n        });\r\n        console.log(\"Login Response:\", response.data);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Login Error:\", error.response?.data || error.message);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const getUserInfo = async (accessToken) => {\r\n    try {\r\n        const response = await apiClient.get(\"/users/me\", {\r\n            headers: {\r\n                Authorization: `Bearer ${accessToken}`,\r\n            },\r\n        });\r\n        console.log(\"User Info Response:\", response.data);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Get User Info Error:\", error.response?.data || error.message);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const getAllUsers = async (accessToken) => {\r\n    try {\r\n        const response = await apiClient.get(\"/users\", {\r\n            headers: {\r\n                Authorization: `Bearer ${accessToken}`,\r\n            },\r\n        });\r\n        console.log(\"All Users Response:\", response.data);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Get All Users Error:\", error.response?.data || error.message);\r\n        throw error;\r\n    }\r\n};\r\nexport const updateRoleUser = async (accessToken, user_id, role) => { \r\n    try {\r\n        const response = await apiClient.put(\r\n            `/users/${user_id}`, \r\n            { role }, \r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n            }\r\n        );\r\n        console.log(\"Update Role Response:\", response.data);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Update Role Error:\", error.response?.data || error.message);\r\n        throw error;\r\n    }\r\n};\r\nexport const deleteUser = async (accessToken, user_id) => { \r\n    try {\r\n        const response = await apiClient.delete(\r\n            `/users/${user_id}`, \r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${accessToken}`,\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n            }\r\n        );\r\n        console.log(\"Delete User Response:\", response.data);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Delete User Error:\", error.response?.data || error.message);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const getTeacherIdByEmail = async (email, accessToken) => {\r\n    try {\r\n        const response = await apiClient.get(`/users/teacher-id/${email}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${accessToken}`,\r\n            },\r\n        });\r\n        console.log(\"Teacher ID Response:\", response.data);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Get Teacher ID Error:\", error.response?.data || error.message);\r\n        throw error;\r\n    }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}